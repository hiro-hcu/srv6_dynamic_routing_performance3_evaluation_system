# SRv6 å‹•çš„çµŒè·¯åˆ¶å¾¡ æ€§èƒ½è©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ 

Docker ãƒ™ãƒ¼ã‚¹ã® SRv6ï¼ˆSegment Routing over IPv6ï¼‰å‹•çš„çµŒè·¯åˆ¶å¾¡ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚**æ€§èƒ½è©•ä¾¡ç ”ç©¶**ã‚’ç›®çš„ã¨ã—ã¦è¨­è¨ˆã•ã‚Œã¦ãŠã‚Šã€16å°ã®ãƒ«ãƒ¼ã‚¿ã«ã‚ˆã‚‹ãƒ¡ãƒƒã‚·ãƒ¥ãƒˆãƒãƒ­ã‚¸ã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ç›£è¦–ã€ãƒãƒ«ãƒãƒ†ãƒ¼ãƒ–ãƒ«ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã€è‡ªå‹•çµŒè·¯ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã‚’å‚™ãˆã¦ã„ã¾ã™ã€‚

## ğŸŒŸ ä¸»ãªæ©Ÿèƒ½

- **ğŸš€ å‹•çš„çµŒè·¯ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**: ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯çŠ¶æ³ã«åŸºã¥ããƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æœ€é©çµŒè·¯è¨ˆç®—
- **ğŸ”„ åŒæ–¹å‘åˆ¶å¾¡**: å¾€è·¯ï¼ˆr1â†’r16ï¼‰ã¨å¾©è·¯ï¼ˆr16â†’r1ï¼‰ã®ç‹¬ç«‹ã—ãŸçµŒè·¯ç®¡ç†ã€åŒæœŸãƒ•ãƒ­ãƒ¼ãƒ©ãƒ™ãƒ«å‡¦ç†
- **ğŸ“Š ãƒãƒ«ãƒãƒ†ãƒ¼ãƒ–ãƒ«ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°**: fwmarkãƒ™ãƒ¼ã‚¹ã®åˆ†é¡ã«ã‚ˆã‚‹3æ®µéšQoSå¯¾å¿œãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼ˆé«˜/ä¸­/ä½å„ªå…ˆåº¦ï¼‰
- **âš¡ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–**: MRTGãƒ™ãƒ¼ã‚¹ã®ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯åˆ†æã€60ç§’é–“éš”ã®RRDãƒ‡ãƒ¼ã‚¿åé›†ï¼ˆ24ãƒªãƒ³ã‚¯ç›£è¦–ï¼‰
- **ğŸ§  ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆåˆ‡ã‚Šæ›¿ãˆ**: ãƒªãƒ³ã‚¯åˆ©ç”¨ç‡é–¾å€¤ã«åŸºã¥ãè‡ªå‹•çµŒè·¯åˆ‡ã‚Šæ›¿ãˆ
- **ğŸ”§ è‡ªå‹•è¨­å®š**: ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•æ™‚ã®Phase 1 & 2è‡ªå‹•ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆnftables + ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ†ãƒ¼ãƒ–ãƒ« + fwmarkãƒ«ãƒ¼ãƒ«ï¼‰
- **ğŸ“ˆ æ€§èƒ½åˆ†æ**: RRDãƒ™ãƒ¼ã‚¹ã®ã‚¨ãƒƒã‚¸é‡ã¿è¨ˆç®—ã¨NetworkXæœ€çŸ­çµŒè·¯æœ€é©åŒ–
- **ğŸ–¼ï¸ ãƒˆãƒãƒ­ã‚¸å¯è¦–åŒ–**: ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯çŠ¶æ…‹ã¨é¸æŠçµŒè·¯ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å¯è¦–åŒ–æ©Ÿèƒ½
- **ğŸ³ å®Œå…¨ã‚³ãƒ³ãƒ†ãƒŠåŒ–**: 16å°ã®ãƒ«ãƒ¼ã‚¿ + ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã®Docker ãƒ™ãƒ¼ã‚¹ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ
- **ğŸŒ å¤–éƒ¨ãƒãƒ¼ãƒ‰æ¥ç¶šå¯¾å¿œ**: Macvlanã«ã‚ˆã‚‹å®Ÿæ©ŸUPF/ã‚µãƒ¼ãƒãƒ¼çµ±åˆ
- **âš¡ 1Gbpså¸¯åŸŸåˆ¶å¾¡**: å…¨ãƒ«ãƒ¼ã‚¿ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«HTBãƒ™ãƒ¼ã‚¹ã®ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚·ã‚§ãƒ¼ãƒ”ãƒ³ã‚°

## ğŸ“… æœ€çµ‚æ›´æ–°
- **2025-12-11**: READMEæ—¥æœ¬èªåŒ–ã€å¯è¦–åŒ–æ©Ÿèƒ½ã®å¼·åŒ–
- **2025-12-01**: HTBã«ã‚ˆã‚‹1Gbpså¸¯åŸŸåˆ¶é™è¿½åŠ ï¼ˆé«˜ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆå‘ã‘burst 15kæœ€é©åŒ–ï¼‰
- **2025-11-04**: ãƒ•ãƒ­ãƒ¼ãƒ©ãƒ™ãƒ«â†’ãƒãƒ¼ã‚¯ ãƒãƒƒãƒ”ãƒ³ã‚°æ¤œè¨¼å®Œäº†

## ğŸ—ï¸ ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 SRv6 å‹•çš„çµŒè·¯åˆ¶å¾¡ æ€§èƒ½è©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ                                  â”‚
â”‚                                                                                  â”‚
â”‚  16å°ãƒ«ãƒ¼ã‚¿ ãƒ¡ãƒƒã‚·ãƒ¥ãƒˆãƒãƒ­ã‚¸ (4x4 ã‚°ãƒªãƒƒãƒ‰)                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                                                             â”‚ â”‚
â”‚  â”‚   UPF â”€â”€â”€ r1 â”€â”€â”€ r2 â”€â”€â”€ r4 â”€â”€â”€ r7 â”€â”€â”€â”                                     â”‚ â”‚
â”‚  â”‚  (å¤–éƒ¨)    â”‚      â”‚      â”‚      â”‚     â”‚                                     â”‚ â”‚
â”‚  â”‚            â”‚      â”‚      â”‚      â”‚     â”‚                                     â”‚ â”‚
â”‚  â”‚            r3 â”€â”€â”€ r5 â”€â”€â”€ r8 â”€â”€â”€ r11 â”€â”€â”¼â”€â”€â”€ r14 â”€â”€â”                          â”‚ â”‚
â”‚  â”‚            â”‚      â”‚      â”‚      â”‚     â”‚          â”‚                          â”‚ â”‚
â”‚  â”‚            â”‚      â”‚      â”‚      â”‚     â”‚          â”‚                          â”‚ â”‚
â”‚  â”‚            r6 â”€â”€â”€ r9 â”€â”€â”€ r12 â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”˜          r16 â”€â”€â”€ Server             â”‚ â”‚
â”‚  â”‚            â”‚      â”‚      â”‚      â”‚                â”‚       (å¤–éƒ¨)              â”‚ â”‚
â”‚  â”‚            â”‚      â”‚      â”‚      â”‚                â”‚                          â”‚ â”‚
â”‚  â”‚            r10 â”€â”€ r13 â”€â”€ r15 â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚ â”‚
â”‚  â”‚                                                                             â”‚ â”‚
â”‚  â”‚  å…¨ãƒªãƒ³ã‚¯: 1Gbpså¸¯åŸŸåˆ¶é™ (HTB, burst 15k)                                    â”‚ â”‚
â”‚  â”‚  ç›£è¦–: 24ãƒªãƒ³ã‚¯ RRDãƒ‡ãƒ¼ã‚¿åé›† (60ç§’é–“éš”)                                      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã‚·ã‚¹ãƒ†ãƒ  (fd02:1::20)                        â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚  â”‚ è‡ªå‹•åˆæœŸåŒ–        â”‚  â”‚    ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ                    â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ (èµ·å‹•æ™‚)          â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚  â”‚ MRTG       â”‚  â”‚ Phase3 RTãƒãƒãƒ¼ã‚¸ãƒ£       â”‚â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ â”‚ Phase1       â”‚ â”‚  â”‚  â”‚ Poller     â”‚  â”‚ - åŒæ–¹å‘åˆ¶å¾¡              â”‚â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ â”‚ - r1ãƒ†ãƒ¼ãƒ–ãƒ«  â”‚ â”‚  â”‚  â”‚ (60ç§’)     â”‚  â”‚ - ãƒãƒ«ãƒãƒ†ãƒ¼ãƒ–ãƒ«ç®¡ç†       â”‚â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ â”‚ - r16ãƒ†ãƒ¼ãƒ–ãƒ«â”‚â—„â”¼â”€â”€â”¼â”€â”€â”¤ 24ãƒªãƒ³ã‚¯   â”‚â—„â”€â”¤ - å‹•çš„çµŒè·¯åˆ‡ã‚Šæ›¿ãˆ        â”‚â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ â”‚ - fwmarkâ†’tbl â”‚ â”‚  â”‚  â”‚ RRDãƒ‡ãƒ¼ã‚¿  â”‚  â”‚ - SRv6ãƒ«ãƒ¼ãƒˆæ›´æ–°          â”‚â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚                                               â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ â”‚ Phase2       â”‚ â”‚  â”‚   ãƒ•ãƒ­ãƒ¼ãƒ©ãƒ™ãƒ« â†’ ãƒãƒ¼ã‚¯ ãƒãƒƒãƒ”ãƒ³ã‚°:             â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ â”‚ - r1 nftablesâ”‚ â”‚  â”‚   0xfffc4 â†’ mark 4 â†’ rt_table1 (é«˜å„ªå…ˆåº¦)     â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ â”‚ - r16 nftablesâ”‚ â”‚ â”‚   0xfffc6 â†’ mark 6 â†’ rt_table2 (ä¸­å„ªå…ˆåº¦)     â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ â”‚ - flowlabel  â”‚ â”‚  â”‚   ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ â†’ mark 9 â†’ rt_table3 (ä½å„ªå…ˆåº¦)  â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ â”‚   â†’mark(4/6/9)â”‚ â”‚  â”‚                                               â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
srv6_dynamic_routing_performance_evaluation_system/
â”œâ”€â”€ ğŸ“‹ README.md                           # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”œâ”€â”€ ğŸ³ docker-compose.yml                  # 16å°ãƒ«ãƒ¼ã‚¿ãƒˆãƒãƒ­ã‚¸è¨­å®š
â”œâ”€â”€ ğŸ“– EXTERNAL_CONNECTION.md              # å¤–éƒ¨UPF/ã‚µãƒ¼ãƒãƒ¼æ¥ç¶šã‚¬ã‚¤ãƒ‰
â”‚
â”œâ”€â”€ ğŸŒ router/                             # SRv6ãƒ«ãƒ¼ã‚¿ã‚¤ãƒ³ãƒ•ãƒ©
â”‚   â”œâ”€â”€ Dockerfile                        # åŸºæœ¬ãƒ«ãƒ¼ã‚¿ã‚¤ãƒ¡ãƒ¼ã‚¸ (r2-r15)
â”‚   â”œâ”€â”€ Dockerfile_r1                     # R1 (ã‚¤ãƒ³ã‚°ãƒ¬ã‚¹) SSH + nftableså¯¾å¿œ
â”‚   â”œâ”€â”€ Dockerfile_r16                    # R16 (ã‚¤ãƒ¼ã‚°ãƒ¬ã‚¹) SSH + nftableså¯¾å¿œ
â”‚   â”œâ”€â”€ scripts/                          # ãƒ«ãƒ¼ã‚¿åˆæœŸåŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â”‚   â”œâ”€â”€ srv6_setup.sh                 # SRv6ã‚«ãƒ¼ãƒãƒ«è¨­å®š
â”‚   â”‚   â”œâ”€â”€ set_bandwidth_limit.sh        # 1Gbps HTBå¸¯åŸŸåˆ¶å¾¡
â”‚   â”‚   â”œâ”€â”€ r1_startup.sh                 # R1å°‚ç”¨èµ·å‹•ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â”‚   â””â”€â”€ r16_startup.sh                # R16å°‚ç”¨èµ·å‹•ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â”œâ”€â”€ docs/                             # æŠ€è¡“ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ advanced-routing-setup.md     # nftables + fwmarkã‚¬ã‚¤ãƒ‰
â”‚   â”‚   â””â”€â”€ srv6-end-functions.md         # SRv6é–¢æ•°ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹
â”‚   â””â”€â”€ snmpd/
â”‚       â””â”€â”€ snmpd.conf                    # SNMPç›£è¦–è¨­å®š
â”‚
â””â”€â”€ ğŸ›ï¸ controller/                         # åˆ¶å¾¡ãƒ—ãƒ¬ãƒ¼ãƒ³ã‚·ã‚¹ãƒ†ãƒ 
    â”œâ”€â”€ Dockerfile                        # è‡ªå‹•åˆæœŸåŒ–å¯¾å¿œã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©
    â”œâ”€â”€ init_setup.py                     # è‡ªå‹•Phase1&2ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
    â”‚
    â”œâ”€â”€ ğŸ“Š mrtg/                          # ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ç›£è¦–
    â”‚   â”œâ”€â”€ mrtg_kurage.conf              # ãƒªãƒ³ã‚¯åˆ¥MRTGè¨­å®š
    â”‚   â”œâ”€â”€ mrtg_file/                    # RRDãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ (24ãƒªãƒ³ã‚¯ãƒ•ã‚¡ã‚¤ãƒ«)
    â”‚   â””â”€â”€ rrdtool_shell/
    â”‚       â””â”€â”€ create_rrd.sh             # RRDãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åˆæœŸåŒ–
    â”‚
    â”œâ”€â”€ ğŸ“Š presentation/                   # ç ”ç©¶ç™ºè¡¨è³‡æ–™
    â”‚   â”œâ”€â”€ README.md                     # ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚¬ã‚¤ãƒ‰
    â”‚   â”œâ”€â”€ diagrams/                     # ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³
    â”‚   â””â”€â”€ scripts/                      # ãƒ€ã‚¤ã‚¢ã‚°ãƒ©ãƒ ç”Ÿæˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ
    â”‚
    â””â”€â”€ ğŸ¯ srv6-path-orchestrator/         # ã‚³ã‚¢ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚·ã‚¹ãƒ†ãƒ 
        â”œâ”€â”€ function_analysis.md          # ã‚·ã‚¹ãƒ†ãƒ æ©Ÿèƒ½åˆ†æ
        â”œâ”€â”€ VISUALIZATION_README.md       # å¯è¦–åŒ–ã‚¬ã‚¤ãƒ‰
        â”‚
        â”œâ”€â”€ ğŸ”§ Phase 1&2 ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆ (è‡ªå‹•å®Ÿè¡Œ):
        â”œâ”€â”€ r1_phase1_table_setup.py      # R1ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ†ãƒ¼ãƒ–ãƒ« + ãƒ«ãƒ¼ãƒ«
        â”œâ”€â”€ r1_phase2_nftables_setup.py   # R1 nftables + ãƒ•ãƒ­ãƒ¼ãƒãƒ¼ã‚­ãƒ³ã‚°
        â”œâ”€â”€ r16_phase1_table_setup.py     # R16ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ†ãƒ¼ãƒ–ãƒ« + ãƒ«ãƒ¼ãƒ«
        â”œâ”€â”€ r16_phase2_nftables_setup.py  # R16 nftables + ãƒ•ãƒ­ãƒ¼ãƒãƒ¼ã‚­ãƒ³ã‚°
        â”‚
        â””â”€â”€ ğŸš€ Phase 3 ãƒ¡ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ :
            â””â”€â”€ phase3_realtime_multi_table.py # ãƒ¡ã‚¤ãƒ³ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿
                                               # - åŒæ–¹å‘åˆ¶å¾¡
                                               # - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–
                                               # - å‹•çš„çµŒè·¯åˆ‡ã‚Šæ›¿ãˆ
                                               # - ãƒãƒ«ãƒãƒ†ãƒ¼ãƒ–ãƒ«ç®¡ç†
                                               # - ãƒˆãƒãƒ­ã‚¸å¯è¦–åŒ–
```

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### å‰ææ¡ä»¶
- Docker ãŠã‚ˆã³ Docker Compose v2.0ä»¥ä¸Š
- IPv6å¯¾å¿œã®Linuxç’°å¢ƒï¼ˆUbuntu 22.04ä»¥ä¸Šã§å‹•ä½œç¢ºèªæ¸ˆã¿ï¼‰
- ã‚³ãƒ³ãƒ†ãƒŠãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ã®ãŸã‚ã®rootæ¨©é™
- å¤–éƒ¨æ¥ç¶šç”¨ã®ç‰©ç†NICï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ã€UPF/ã‚µãƒ¼ãƒãƒ¼çµ±åˆç”¨ï¼‰

### 1. ã‚¯ãƒ­ãƒ¼ãƒ³ã¨ãƒ‡ãƒ—ãƒ­ã‚¤
```bash
git clone https://github.com/hiro-hcu/srv6_dynamic_routing_performance_evaluation_system.git
cd srv6_dynamic_routing_performance_evaluation_system

# è‡ªå‹•åˆæœŸåŒ–ä»˜ãã§å…¨ã‚³ãƒ³ãƒ†ãƒŠã‚’ãƒ‡ãƒ—ãƒ­ã‚¤
sudo docker compose up -d

# å®Œå…¨å†ãƒ“ãƒ«ãƒ‰ï¼ˆæ›´æ–°å¾Œæ¨å¥¨ï¼‰
sudo docker compose down && sudo docker compose build --no-cache && sudo docker compose up -d
```

### 2. ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ã®ç¢ºèª
```bash
# 17ã‚³ãƒ³ãƒ†ãƒŠãŒèµ·å‹•ä¸­ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªï¼ˆ16ãƒ«ãƒ¼ã‚¿ + 1ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ï¼‰
sudo docker ps

# åˆæœŸåŒ–ã®é€²æ—ã‚’ç›£è¦–
sudo docker logs -f controller

# æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›:
# INFO - SRv6ã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–é–‹å§‹...
# INFO - âœ… SSHæº–å‚™å®Œäº† (r1: fd02:1::2, r16: fd02:1::11)
# INFO - âœ… r1_phase1_table_setup.py å®Ÿè¡ŒæˆåŠŸ
# INFO - âœ… r1_phase2_nftables_setup.py å®Ÿè¡ŒæˆåŠŸ
# INFO - âœ… r16_phase1_table_setup.py å®Ÿè¡ŒæˆåŠŸ
# INFO - âœ… r16_phase2_nftables_setup.py å®Ÿè¡ŒæˆåŠŸ
# INFO - ğŸ‰ åˆæœŸåŒ–å®Œäº†: ã‚·ã‚¹ãƒ†ãƒ ã¯é‹ç”¨å¯èƒ½ã§ã™
```

### 3. å¸¯åŸŸåˆ¶å¾¡ã®ç¢ºèª
```bash
# ä»»æ„ã®ãƒ«ãƒ¼ã‚¿ã§HTBè¨­å®šã‚’ç¢ºèªï¼ˆburst 15kãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¯ãšï¼‰
sudo docker exec r1 tc class show dev eth0

# æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›:
# class htb 1:10 root prio 0 rate 1Gbit ceil 1Gbit burst 15125b cburst 15125b
```

### 4. è¨­å®šæ¤œè¨¼ã‚³ãƒãƒ³ãƒ‰
```bash
# nftablesè¨­å®šã®ç¢ºèª (r1)
sudo docker exec -it r1 nft list table ip6 mangle
# æœŸå¾…: flowlabel 0xfffc4 â†’ mark 4, 0xfffc6 â†’ mark 6

# ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ«ãƒ¼ãƒ«ã®ç¢ºèª (r16)
sudo docker exec -it r16 ip -6 rule list
# æœŸå¾…: fwmark 0x4/0x6/0x9 lookup rt_table_1/2/3

# ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ†ãƒ¼ãƒ–ãƒ«ã®ç¢ºèª
sudo docker exec -it r1 ip -6 route show table rt_table1
sudo docker exec -it r16 ip -6 route show table rt_table_1
```

### 5. ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³é–‹å§‹ (Phase 3)
```bash
# åŒæ–¹å‘ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç®¡ç†ï¼ˆç¶™ç¶šãƒ¢ãƒ¼ãƒ‰ï¼‰
sudo docker exec -it controller python3 /opt/app/srv6-path-orchestrator/phase3_realtime_multi_table.py

# å¯è¦–åŒ–æ©Ÿèƒ½ä»˜ãã§å®Ÿè¡Œ
sudo docker exec -it controller bash -c "cd /opt/app/srv6-path-orchestrator && python3 phase3_realtime_multi_table.py --mode bidirectional --visualize"

# ãƒ†ã‚¹ãƒˆç”¨ã®å˜ç™ºå®Ÿè¡Œ
sudo docker exec -it controller python3 /opt/app/srv6-path-orchestrator/phase3_realtime_multi_table.py --once

# æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›:
# INFO - ğŸš€ åŒæ–¹å‘ãƒ†ãƒ¼ãƒ–ãƒ«æ›´æ–°é–‹å§‹
# INFO - Edge r1 <-> r2: 9.633 Mbps (åˆ©ç”¨ç‡: 0.0154)
# INFO - å¾€è·¯æœ€é©çµŒè·¯: r1 â†’ r2 â†’ r4 â†’ r7 â†’ r11 â†’ r14 â†’ r16
# INFO - å¾©è·¯æœ€é©çµŒè·¯: r16 â†’ r14 â†’ r11 â†’ r7 â†’ r4 â†’ r2 â†’ r1
# INFO - âœ… åŒæ–¹å‘ãƒ†ãƒ¼ãƒ–ãƒ«æ›´æ–°æˆåŠŸ
```

## ğŸŒ å¤–éƒ¨PCæ¥ç¶šï¼ˆé«˜åº¦ãªä½¿ç”¨æ³•ï¼‰

å®Ÿæ©ŸUPF/ã‚µãƒ¼ãƒãƒ¼ãƒãƒ¼ãƒ‰ã¨ã®å®Ÿç’°å¢ƒãƒ†ã‚¹ãƒˆç”¨:

### ã‚·ã‚¹ãƒ†ãƒ ãƒ¢ãƒ¼ãƒ‰
- **ã‚³ãƒ³ãƒ†ãƒŠãƒ¢ãƒ¼ãƒ‰**: è‡ªå·±å®Œçµå‹ãƒ†ã‚¹ãƒˆç’°å¢ƒï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰
- **å¤–éƒ¨ãƒãƒ¼ãƒ‰ãƒ¢ãƒ¼ãƒ‰**: Macvlanã«ã‚ˆã‚‹å®Ÿæ©Ÿæ¥ç¶š

### å¤–éƒ¨PCè¨­å®š
```bash
# å¤–éƒ¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¯docker-compose.ymlã§äº‹å‰è¨­å®šæ¸ˆã¿:
# - external-upf: fd00:1::/64 (enp2s0f1çµŒç”±macvlan)
# - external-server: fd03:1::/64 (enp2s0f0çµŒç”±macvlan)

# UPF PCè¨­å®š:
sudo ip -6 addr add fd00:1::1/64 dev <interface>
sudo ip -6 route add fd03:1::/64 via fd00:1::12  # r1çµŒç”±

# ã‚µãƒ¼ãƒãƒ¼PCè¨­å®š:
sudo ip -6 addr add fd03:1::2/64 dev <interface>
sudo ip -6 route add fd00:1::/64 via fd03:1::11  # r16çµŒç”±
```

ğŸ“– **è©³ç´°ã‚¬ã‚¤ãƒ‰**: [EXTERNAL_CONNECTION.md](EXTERNAL_CONNECTION.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

---

## âš¡ æ€§èƒ½æœ€é©åŒ–

### å¸¯åŸŸåˆ¶å¾¡ (HTB)
å…¨ãƒ«ãƒ¼ã‚¿ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¯è‡ªå‹•çš„ã«1Gbpså¸¯åŸŸåˆ¶é™ã§è¨­å®šã•ã‚Œã¾ã™:

```bash
# é©ç”¨ã•ã‚Œã‚‹è¨­å®š (set_bandwidth_limit.sh):
tc qdisc add dev $iface root handle 1: htb default 10
tc class add dev $iface parent 1: classid 1:10 htb rate 1000mbit ceil 1000mbit burst 15k cburst 15k
```

### ãƒ›ã‚¹ãƒˆãƒ¬ãƒ™ãƒ«æœ€é©åŒ–ï¼ˆæ¨å¥¨ï¼‰
æœ€å¤§ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆãƒ†ã‚¹ãƒˆå‘ã‘ã«ã€ä»¥ä¸‹ã®ãƒ›ã‚¹ãƒˆæœ€é©åŒ–ã‚’é©ç”¨:

```bash
# NICãƒªãƒ³ã‚°ãƒãƒƒãƒ•ã‚¡ã®æ‹¡å¼µï¼ˆã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹å ´åˆï¼‰
sudo ethtool -G enp2s0f0 rx 8192 tx 8192
sudo ethtool -G enp2s0f1 rx 8192 tx 8192

# ã‚«ãƒ¼ãƒãƒ«ã‚½ã‚±ãƒƒãƒˆãƒãƒƒãƒ•ã‚¡ã®å¢—åŠ 
sudo sysctl -w net.core.rmem_max=16777216
sudo sysctl -w net.core.wmem_max=16777216
sudo sysctl -w net.core.netdev_max_backlog=30000

# è¨­å®šç¢ºèª
tc class show dev eth0  # burst 15125b ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¯ãš
```

## ğŸ¯ ã‚·ã‚¹ãƒ†ãƒ ãƒ•ã‚§ãƒ¼ã‚ºæ¦‚è¦

### Phase 1: ã‚¤ãƒ³ãƒ•ãƒ©ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆè‡ªå‹•å®Ÿè¡Œï¼‰
- **ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ†ãƒ¼ãƒ–ãƒ«**: QoSéšå±¤ç”¨ã« `rt_table1`, `rt_table2`, `rt_table3` ã‚’ä½œæˆ
- **ãƒ«ãƒ¼ãƒ«è¨­å®š**: `fwmark` ãƒ™ãƒ¼ã‚¹ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ«ãƒ¼ãƒ«ã‚’è¨­å®š
- **å¯¾è±¡**: r1ï¼ˆã‚¤ãƒ³ã‚°ãƒ¬ã‚¹ï¼‰ã¨r16ï¼ˆã‚¤ãƒ¼ã‚°ãƒ¬ã‚¹ï¼‰ä¸¡ãƒ«ãƒ¼ã‚¿

### Phase 2: ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯åˆ†é¡ï¼ˆè‡ªå‹•å®Ÿè¡Œï¼‰
- **nftablesè¨­å®š**: IPv6ãƒ•ãƒ­ãƒ¼ãƒ©ãƒ™ãƒ« â†’ ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«ãƒãƒ¼ã‚¯å¤‰æ›
- **ãƒ•ãƒ­ãƒ¼ãƒãƒƒãƒ”ãƒ³ã‚°**:
  - `0xfffc4` (1048516) â†’ mark **4** â†’ é«˜å„ªå…ˆåº¦ (rt_table1)
  - `0xfffc6` (1048518) â†’ mark **6** â†’ ä¸­å„ªå…ˆåº¦ (rt_table2)
  - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼ˆä¸Šè¨˜ä»¥å¤–ï¼‰ â†’ mark **9** â†’ ä½å„ªå…ˆåº¦ (rt_table3)
- **åŒæ–¹å‘**: å¾€è·¯ï¼ˆr1ï¼‰ã¨å¾©è·¯ï¼ˆr16ï¼‰ã®ç‹¬ç«‹ã—ãŸåˆ†é¡
- **è‡ªå‹•**: `init_setup.py` ã«ã‚ˆã‚Šã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•æ™‚ã«å®Ÿè¡Œ

### Phase 3: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆæ‰‹å‹•/è‡ªå‹•ï¼‰
- **ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ç›£è¦–**: RRDãƒ™ãƒ¼ã‚¹ã®ãƒªãƒ³ã‚¯åˆ©ç”¨ç‡åˆ†æï¼ˆ60ç§’é–“éš”ã€24ãƒªãƒ³ã‚¯ç›£è¦–ï¼‰
- **å‹•çš„çµŒè·¯**: NetworkX Dijkstraæœ€çŸ­çµŒè·¯ã«ã‚ˆã‚‹è‡ªå‹•æœ€é©çµŒè·¯è¨ˆç®—
- **åŒæ–¹å‘åˆ¶å¾¡**: r1â†’r16ï¼ˆå¾€è·¯ï¼‰ã¨r16â†’r1ï¼ˆå¾©è·¯ï¼‰ã®åŒæ™‚çµŒè·¯ç®¡ç†
- **SRv6ã‚«ãƒ—ã‚»ãƒ«åŒ–**: è¨ˆç®—ã•ã‚ŒãŸçµŒè·¯ã«åŸºã¥ãå‹•çš„SIDãƒªã‚¹ãƒˆç”Ÿæˆ
- **ãƒ«ãƒ¼ãƒˆæ›´æ–°**: SSHã«ã‚ˆã‚‹è‡ªå‹•ãƒ«ãƒ¼ãƒˆã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆparamikoä½¿ç”¨ï¼‰
- **ãƒãƒ«ãƒãƒ†ãƒ¼ãƒ–ãƒ«**: ãƒ†ãƒ¼ãƒ–ãƒ«ã”ã¨ã®ç‹¬ç«‹ã—ãŸçµŒè·¯æœ€é©åŒ–ã«ã‚ˆã‚‹3æ®µéšå„ªå…ˆåº¦ã‚·ã‚¹ãƒ†ãƒ 
- **å¯è¦–åŒ–**: ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒˆãƒãƒ­ã‚¸ã¨é¸æŠçµŒè·¯ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç”»åƒå‡ºåŠ›

## ğŸ“Š æŠ€è¡“å®Ÿè£…

### nftables + fwmark çµ±åˆ
```bash
# Phase 2: ãƒ•ãƒ­ãƒ¼ãƒ©ãƒ™ãƒ«æ¤œå‡º (nftables)
# mangleãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã—ã€IPv6ãƒ•ãƒ­ãƒ¼ãƒ©ãƒ™ãƒ«ã«åŸºã¥ã„ã¦ãƒãƒ¼ã‚¯ã‚’è¨­å®š
nft 'add table ip6 mangle'
nft 'add chain ip6 mangle prerouting { type filter hook prerouting priority mangle; }'
nft 'add rule ip6 mangle prerouting ip6 flowlabel 0xfffc4 mark set 0x4'  # é«˜å„ªå…ˆåº¦
nft 'add rule ip6 mangle prerouting ip6 flowlabel 0xfffc6 mark set 0x6'  # ä¸­å„ªå…ˆåº¦
nft 'add rule ip6 mangle prerouting mark set 0x9'                        # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼ˆä½å„ªå…ˆåº¦ï¼‰

# Phase 1: ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ«ãƒ¼ãƒ«é©ç”¨ (fwmarkãƒ™ãƒ¼ã‚¹ã®ãƒ†ãƒ¼ãƒ–ãƒ«é¸æŠ)
ip -6 rule add pref 1000 fwmark 0x4 table rt_table1  # é«˜å„ªå…ˆåº¦
ip -6 rule add pref 1001 fwmark 0x6 table rt_table2  # ä¸­å„ªå…ˆåº¦
ip -6 rule add pref 1002 fwmark 0x9 table rt_table3  # ä½å„ªå…ˆåº¦ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰

# Phase 3: SRv6ãƒ«ãƒ¼ãƒˆã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆå‹•çš„ã€ãƒ†ãƒ¼ãƒ–ãƒ«åˆ¥ï¼‰
# ä¾‹: rt_table1ã§ã®å¾€è·¯ r1â†’r2â†’r4â†’r7â†’r11â†’r14â†’r16
ip -6 route add fd03:1::/64 encap seg6 mode encap \
    segs fd01:1::12,fd01:2::12,fd01:3::12,fd01:8::12,fd01:9::12,fd01:a::12 dev eth1 table rt_table1
```

### ãƒ•ãƒ­ãƒ¼ãƒ©ãƒ™ãƒ« â†’ ãƒãƒ¼ã‚¯ â†’ ãƒ†ãƒ¼ãƒ–ãƒ« ãƒ•ãƒ­ãƒ¼
```
flowlabel 0xfffc4 (é«˜å„ªå…ˆåº¦) ã‚’æŒã¤ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‘ã‚±ãƒƒãƒˆ
    â†“
[nftables mangle prerouting]
    â†“ (flowlabel 0xfffc4 æ¤œå‡º)
ãƒ‘ã‚±ãƒƒãƒˆã« fwmark=4 ã‚’ä»˜ä¸
    â†“
[ip -6 rule lookup]
    â†“ (fwmark 4 ãŒãƒãƒƒãƒ)
ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ†ãƒ¼ãƒ–ãƒ« rt_table1 ã‚’é¸æŠ
    â†“
[rt_table1 ã® SRv6 ã‚«ãƒ—ã‚»ãƒ«åŒ–ãƒ«ãƒ¼ãƒˆ]
    â†“
æœ€é©çµŒè·¯ç”¨ã®SIDãƒªã‚¹ãƒˆã§ãƒ‘ã‚±ãƒƒãƒˆã‚’ã‚«ãƒ—ã‚»ãƒ«åŒ–
    â†“
æ¬¡ãƒ›ãƒƒãƒ—ã¸è»¢é€
```

### ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
- **MRTG**: 60ç§’é–“éš”ã®SNMPãƒãƒ¼ãƒªãƒ³ã‚° â†’ RRDã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ï¼ˆ24ãƒªãƒ³ã‚¯ï¼‰
- **Phase3ãƒãƒãƒ¼ã‚¸ãƒ£**: RRDãƒ•ã‚§ãƒƒãƒ â†’ ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯åˆ†æ â†’ ã‚°ãƒ©ãƒ•ã‚¨ãƒƒã‚¸é‡ã¿æ›´æ–°
- **çµŒè·¯è¨ˆç®—**: NetworkX Dijkstraæœ€çŸ­çµŒè·¯ â†’ è¤‡æ•°çµŒè·¯ã‚ªãƒ—ã‚·ãƒ§ãƒ³
- **ãƒ«ãƒ¼ãƒˆã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©**: SSHã‚ªãƒ¼ãƒˆãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆparamikoï¼‰ â†’ r1/r16ã¸ã®ãƒ©ã‚¤ãƒ–ãƒ«ãƒ¼ãƒˆæ›´æ–°
- **åŒæ–¹å‘**: å¾€è·¯ã¨å¾©è·¯ã®ç‹¬ç«‹ã—ãŸæœ€é©åŒ–

## ğŸ”— ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒˆãƒãƒ­ã‚¸ã¨ã‚¢ãƒ‰ãƒ¬ãƒƒã‚·ãƒ³ã‚°

### 16å°ãƒ«ãƒ¼ã‚¿ ãƒ¡ãƒƒã‚·ãƒ¥ãƒˆãƒãƒ­ã‚¸
```
ãƒ¬ã‚¤ãƒ¤ãƒ¼1 (ã‚¨ãƒƒã‚¸):     r1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ r16
                       â”‚                                           â”‚
ãƒ¬ã‚¤ãƒ¤ãƒ¼2:             r2 â”€â”€â”€ r3                             r14 â”€â”€ r15
                       â”‚       â”‚                              â”‚      â”‚
ãƒ¬ã‚¤ãƒ¤ãƒ¼3:             r4 â”€â”€â”€ r5 â”€â”€â”€ r6                 r11 â”€â”€ r12 â”€â”€ r13
                       â”‚       â”‚      â”‚                  â”‚      â”‚      â”‚
ãƒ¬ã‚¤ãƒ¤ãƒ¼4:             r7 â”€â”€â”€ r8 â”€â”€â”€ r9 â”€â”€â”€ r10 â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜

ç›£è¦–ãƒªãƒ³ã‚¯ (24æœ¬ã€RRDãƒ‡ãƒ¼ã‚¿ã‚ã‚Š):
â”œâ”€â”€ r1-r2, r1-r3 (ã‚¨ãƒƒã‚¸ã‚¤ãƒ³ã‚°ãƒ¬ã‚¹)
â”œâ”€â”€ r2-r4, r2-r5, r3-r5, r3-r6, r4-r7, r4-r8, r5-r8, r5-r9
â”œâ”€â”€ r6-r9, r6-r10, r7-r11, r8-r11, r8-r12, r9-r12, r9-r13
â”œâ”€â”€ r10-r13, r11-r14, r12-r14, r12-r15, r13-r15
â””â”€â”€ r14-r16, r15-r16 (ã‚¨ãƒƒã‚¸ã‚¤ãƒ¼ã‚°ãƒ¬ã‚¹)
```

### IPã‚¢ãƒ‰ãƒ¬ã‚¹ä½“ç³»
```
ç®¡ç†ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ (SSH & åˆ¶å¾¡):
â”œâ”€â”€ ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©: fd02:1::20
â”œâ”€â”€ r1:  fd02:1::2  (SSHæœ‰åŠ¹ã€ã‚¤ãƒ³ã‚°ãƒ¬ã‚¹)
â”œâ”€â”€ r2:  fd02:1::3
â”œâ”€â”€ r3:  fd02:1::4
â”œâ”€â”€ r4:  fd02:1::5
â”œâ”€â”€ r5:  fd02:1::6
â”œâ”€â”€ r6:  fd02:1::7
â”œâ”€â”€ r7:  fd02:1::8
â”œâ”€â”€ r8:  fd02:1::9
â”œâ”€â”€ r9:  fd02:1::a
â”œâ”€â”€ r10: fd02:1::b
â”œâ”€â”€ r11: fd02:1::c
â”œâ”€â”€ r12: fd02:1::d
â”œâ”€â”€ r13: fd02:1::e
â”œâ”€â”€ r14: fd02:1::f
â”œâ”€â”€ r15: fd02:1::10
â””â”€â”€ r16: fd02:1::11 (SSHæœ‰åŠ¹ã€ã‚¤ãƒ¼ã‚°ãƒ¬ã‚¹)

å¤–éƒ¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯:
â”œâ”€â”€ UPF-R1:    fd00:1::/64 (macvlan, UPF: fd00:1::1, R1: fd00:1::12)
â””â”€â”€ R16-Server: fd03:1::/64 (macvlan, R16: fd03:1::11, Server: fd03:1::2)
```

### çµŒè·¯ä¾‹
**é«˜å„ªå…ˆåº¦çµŒè·¯ (rt_table1)**:
- å¾€è·¯: UPF â†’ r1 â†’ r2 â†’ r4 â†’ r7 â†’ r11 â†’ r14 â†’ r16 â†’ Server
- SIDãƒªã‚¹ãƒˆä¾‹: `[fd01:1::12, fd01:2::12, fd01:3::12, ...]`

**ä»£æ›¿çµŒè·¯**:
- r3çµŒç”±: r1 â†’ r3 â†’ r5 â†’ r8 â†’ r12 â†’ r15 â†’ r16
- r6çµŒç”±: r1 â†’ r3 â†’ r6 â†’ r9 â†’ r13 â†’ r15 â†’ r16

## ğŸ› ï¸ é«˜åº¦ãªä½¿ç”¨æ³•

### æ‰‹å‹•ãƒ•ã‚§ãƒ¼ã‚ºå®Ÿè¡Œ
```bash
# å€‹åˆ¥ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ•ã‚§ãƒ¼ã‚ºã®å®Ÿè¡Œ
sudo docker exec -it controller python3 /opt/app/srv6-path-orchestrator/r1_phase1_table_setup.py
sudo docker exec -it controller python3 /opt/app/srv6-path-orchestrator/r1_phase2_nftables_setup.py
sudo docker exec -it controller python3 /opt/app/srv6-path-orchestrator/r16_phase1_table_setup.py
sudo docker exec -it controller python3 /opt/app/srv6-path-orchestrator/r16_phase2_nftables_setup.py
```

### ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¢ãƒ¼ãƒ‰
```bash
# åŒæ–¹å‘ç›£è¦–ï¼ˆæ¨å¥¨ï¼‰
python3 /opt/app/srv6-path-orchestrator/phase3_realtime_multi_table.py --mode bidirectional

# å¯è¦–åŒ–ä»˜ãåŒæ–¹å‘ç›£è¦–
python3 /opt/app/srv6-path-orchestrator/phase3_realtime_multi_table.py --mode bidirectional --visualize

# å¾€è·¯ã®ã¿
python3 /opt/app/srv6-path-orchestrator/phase3_realtime_multi_table.py --mode forward

# ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯åˆ†æã®ã¿
python3 /opt/app/srv6-path-orchestrator/phase3_realtime_multi_table.py --mode analyze --once

# ã‚«ã‚¹ã‚¿ãƒ æ›´æ–°é–“éš”
python3 /opt/app/srv6-path-orchestrator/phase3_realtime_multi_table.py --interval 30
```

### è¨­å®šãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
`phase3_realtime_multi_table.py` å†…ã§ä»¥ä¸‹ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½:

```python
# å±¥æ­´ä¿å­˜å…ˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåï¼ˆvisualization/ä»¥ä¸‹ã®ãƒ‘ã‚¹ï¼‰
HISTORY_SAVE_DIR = "srv6_evaluation3_tcp"

# æ¸¬å®šåœæ­¢æ™‚é–“ï¼ˆåˆ†ï¼‰- ã“ã®æ™‚é–“ãŒçµŒéã™ã‚‹ã¨è‡ªå‹•åœæ­¢
MEASUREMENT_DURATION_MINUTES = 52
```

### ãƒ†ã‚¹ãƒˆ & ãƒ‡ãƒãƒƒã‚°
```bash
# nftablesãƒ«ãƒ¼ãƒ«ã®ç¢ºèª
sudo docker exec -it r1 nft list table ip6 mangle
sudo docker exec -it r16 nft list table ip6 mangle_r16

# ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ†ãƒ¼ãƒ–ãƒ«ã®ç¢ºèª
sudo docker exec -it r1 ip -6 route show table rt_table1
sudo docker exec -it r16 ip -6 route show table rt_table_1

# å¸¯åŸŸåˆ¶å¾¡è¨­å®šã®ç¢ºèª
sudo docker exec -it r1 tc qdisc show
sudo docker exec -it r1 tc class show dev eth0

# RRDãƒ‡ãƒ¼ã‚¿ã®ç›£è¦–
sudo docker exec -it controller rrdtool fetch /opt/app/mrtg/mrtg_file/r1-r2.rrd AVERAGE --start -60s

# ç›£è¦–å¯¾è±¡ãƒªãƒ³ã‚¯ã®ä¸€è¦§
sudo docker exec -it controller ls /opt/app/mrtg/mrtg_file/*.rrd
```

### æ€§èƒ½ãƒ†ã‚¹ãƒˆ
```bash
# iperf3ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆãƒ†ã‚¹ãƒˆï¼ˆiperf3ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒå¿…è¦ï¼‰
# ã‚µãƒ¼ãƒãƒ¼å´:
iperf3 -s -6

# ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´:
iperf3 -c fd03:1::2 -6 -t 30 -P 4

# ãƒ†ã‚¹ãƒˆä¸­ã®tcçµ±è¨ˆç›£è¦–
watch -n 1 'sudo docker exec r1 tc -s class show dev eth0'
```

## ğŸ“Š ã‚·ã‚¹ãƒ†ãƒ ç›£è¦–ã¨åˆ†æ

### ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†
- **ãƒªãƒ³ã‚¯åˆ©ç”¨ç‡**: SNMP/RRDã«ã‚ˆã‚‹ãƒªãƒ³ã‚¯åˆ¥ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯åˆ†æï¼ˆ24ãƒªãƒ³ã‚¯ç›£è¦–ï¼‰
- **çµŒè·¯æ€§èƒ½**: ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ†ãƒ¼ãƒ–ãƒ«åˆ¥ã®ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã¨ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆ
- **ãƒ«ãƒ¼ãƒˆå¤‰æ›´**: çµŒè·¯åˆ‡ã‚Šæ›¿ãˆã‚¤ãƒ™ãƒ³ãƒˆã®è‡ªå‹•ãƒ­ã‚°
- **è² è·åˆ†æ•£**: è¤‡æ•°ãƒ†ãƒ¼ãƒ–ãƒ«é–“ã®ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯åˆ†å¸ƒ
- **å¸¯åŸŸä½¿ç”¨é‡**: å„ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®HTBã‚¯ãƒ©ã‚¹çµ±è¨ˆ

### è¦³æ¸¬å¯èƒ½ãªå‹•ä½œ
```bash
# ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã«å¯¾ã™ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã®æœŸå¾…ã•ã‚Œã‚‹å¿œç­”:
1. r1â†’r2ã®é«˜ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ â†’ ã‚·ã‚¹ãƒ†ãƒ ãŒä»£æ›¿çµŒè·¯(r1â†’r3â†’...)ã«åˆ‡ã‚Šæ›¿ãˆ
2. ãƒªãƒ³ã‚¯è¼»è¼³æ¤œå‡º â†’ ãƒ¡ãƒƒã‚·ãƒ¥å…¨ä½“ã§ä»£æ›¿çµŒè·¯ã‚’æ´»æ€§åŒ–
3. çµŒè·¯æŒ¯å‹• â†’ ã‚·ã‚¹ãƒ†ãƒ ãŒæœ€é©ãƒ«ãƒ¼ãƒˆã§å®‰å®šåŒ–
4. åŒæ–¹å‘ç‹¬ç«‹ â†’ å¾€è·¯/å¾©è·¯ãŒåˆ¥ã€…ã«æœ€é©åŒ–
5. ãƒãƒ«ãƒãƒ›ãƒƒãƒ—æœ€é©åŒ– â†’ 16å°ãƒ«ãƒ¼ã‚¿ãƒ¡ãƒƒã‚·ãƒ¥ã§å¤šæ•°ã®ä»£æ›¿çµŒè·¯ãŒå¯èƒ½
```

## ğŸ”¬ ç ”ç©¶å¿œç”¨

### å­¦è¡“çš„ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹
- **SRv6æ€§èƒ½è©•ä¾¡**: æ§˜ã€…ãªæ¡ä»¶ä¸‹ã§ã®ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆã€ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã€çµŒè·¯åæŸ
- **ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°**: 16å°ãƒ«ãƒ¼ã‚¿ãƒ¡ãƒƒã‚·ãƒ¥ã§ã®ãƒãƒ«ãƒãƒ‘ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æœ€é©åŒ–ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 
- **SDNçµ±åˆ**: åˆ†æ•£ãƒ‡ãƒ¼ã‚¿ãƒ—ãƒ¬ãƒ¼ãƒ³ã‚’æŒã¤é›†ä¸­åˆ¶å¾¡ãƒ—ãƒ¬ãƒ¼ãƒ³
- **ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**: ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ—ãƒ­ãƒˆã‚³ãƒ«ç ”ç©¶ã®ãŸã‚ã®ç¾å®Ÿçš„ãªãƒ†ã‚¹ãƒˆãƒ™ãƒƒãƒ‰
- **QoSç ”ç©¶**: ãƒ•ãƒ­ãƒ¼ãƒ©ãƒ™ãƒ«ãƒ™ãƒ¼ã‚¹ã®åˆ†é¡ã«ã‚ˆã‚‹ãƒãƒ«ãƒãƒ†ãƒ¼ãƒ–ãƒ«ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ä¸»ãªç ”ç©¶æ©Ÿèƒ½
- **å†ç¾å¯èƒ½ãªçµæœ**: ã‚³ãƒ³ãƒ†ãƒŠåŒ–ç’°å¢ƒã«ã‚ˆã‚‹ä¸€è²«æ€§ã®ç¢ºä¿
- **åŒ…æ‹¬çš„ãƒ­ã‚°**: è©³ç´°ãªçµŒè·¯å¤‰æ›´ã¨æ€§èƒ½ãƒ­ã‚°
- **æŸ”è»Ÿãªè¨­å®š**: ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒãƒªã‚·ãƒ¼ã®å®¹æ˜“ãªå¤‰æ›´
- **æ¨™æº–æº–æ‹ **: ç´”ç²‹ãªIPv6 + SRv6å®Ÿè£…
- **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«è¨­è¨ˆ**: 24ãƒªãƒ³ã‚¯ç›£è¦–ã‚’æŒã¤16å°ãƒ«ãƒ¼ã‚¿ãƒ¡ãƒƒã‚·ãƒ¥
- **æ€§èƒ½ãƒ†ã‚¹ãƒˆ**: æœ€é©åŒ–è¨­å®šã«ã‚ˆã‚‹1Gbpså¸¯åŸŸåˆ¶å¾¡

## ğŸš¨ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œ

#### 1. ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•å•é¡Œ
```bash
# å…¨ã‚³ãƒ³ãƒ†ãƒŠã®èµ·å‹•ç¢ºèª
sudo docker ps -a

# ã‚³ãƒ³ãƒ†ãƒŠãƒ­ã‚°ã®ç¢ºèª
sudo docker logs r1
sudo docker logs controller

# ç‰¹å®šã‚³ãƒ³ãƒ†ãƒŠã®å†èµ·å‹•
sudo docker restart r1
```

#### 2. è‡ªå‹•åˆæœŸåŒ–å¤±æ•—
```bash
# è‡ªå‹•åˆæœŸåŒ–ãƒ­ã‚°ã®ç¢ºèª
sudo docker logs controller

# è‡ªå‹•åˆæœŸåŒ–å¤±æ•—æ™‚ã®æ‰‹å‹•ãƒªãƒˆãƒ©ã‚¤
sudo docker exec -it controller python3 /opt/app/init_setup.py
```

#### 3. SSHæ¥ç¶šå¤±æ•—
```bash
# ãƒ«ãƒ¼ã‚¿ã®SSHã‚µãƒ¼ãƒ“ã‚¹ç¢ºèª
sudo docker exec -it r1 service ssh status
sudo docker exec -it r16 service ssh status

# å¿…è¦ã«å¿œã˜ã¦SSHã‚’å†èµ·å‹•
sudo docker exec -it r1 service ssh restart
sudo docker exec -it r16 service ssh restart
```

#### 4. nftablesãƒ«ãƒ¼ãƒ«ç«¶åˆ
```bash
# ç¾åœ¨ã®ãƒ«ãƒ¼ãƒ«ã‚’ç¢ºèª
sudo docker exec -it r1 nft list ruleset | grep -A 20 mangle

# ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã—ã¦å†ä½œæˆ
sudo docker exec -it r1 nft flush table ip6 mangle
sudo docker exec -it controller python3 /opt/app/srv6-path-orchestrator/r1_phase2_nftables_setup.py
```

#### 5. å¸¯åŸŸåˆ¶å¾¡å•é¡Œ
```bash
# tcè¨­å®šã®ç¢ºèª
sudo docker exec -it r1 tc qdisc show
sudo docker exec -it r1 tc class show dev eth0

# burstè¨­å®šã®ç¢ºèªï¼ˆç´„15kãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¯ãšï¼‰
sudo docker exec -it r1 tc class show dev eth0 | grep burst

# overlimitsã®ç¢ºèªï¼ˆå¸¯åŸŸé£½å’Œã‚’ç¤ºã™ï¼‰
sudo docker exec -it r1 tc -s class show dev eth0
```

#### 6. RRDãƒ‡ãƒ¼ã‚¿åé›†å•é¡Œ
```bash
# RRDãƒ•ã‚¡ã‚¤ãƒ«ã®å­˜åœ¨ç¢ºèªï¼ˆ24ãƒ•ã‚¡ã‚¤ãƒ«ã‚ã‚‹ã¯ãšï¼‰
sudo docker exec -it controller ls -la /opt/app/mrtg/mrtg_file/*.rrd | wc -l

# RRDãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒã®ãƒ†ã‚¹ãƒˆ
sudo docker exec -it controller rrdtool fetch /opt/app/mrtg/mrtg_file/r1-r2.rrd AVERAGE --start -60s
```

### ã‚·ã‚¹ãƒ†ãƒ ãƒªã‚»ãƒƒãƒˆ
```bash
# ç’°å¢ƒã®å®Œå…¨ãƒªã‚»ãƒƒãƒˆ
sudo docker compose down
sudo docker system prune -f
sudo docker volume prune -f
sudo docker compose build --no-cache
sudo docker compose up -d

# è‡ªå‹•åˆæœŸåŒ–ã‚’å¾…æ©Ÿï¼ˆ30-60ç§’ï¼‰
sudo docker logs -f controller
```

### è¨ºæ–­ã‚³ãƒãƒ³ãƒ‰ ãƒãƒ¼ãƒˆã‚·ãƒ¼ãƒˆ
```bash
# ã‚¯ã‚¤ãƒƒã‚¯ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
sudo docker exec -it r1 nft list table ip6 mangle | grep flowlabel
sudo docker exec -it r16 nft list table ip6 mangle_r16 | grep flowlabel
sudo docker exec -it r1 ip -6 rule list | grep fwmark
sudo docker exec -it r16 ip -6 rule list | grep fwmark

# å¸¯åŸŸåˆ¶å¾¡ã®ç¢ºèª
sudo docker exec -it r1 tc class show dev eth0 | grep rate

# Phase 1 & 2 å®Œäº†ã®ç¢ºèª
sudo docker logs controller | grep "âœ…"

# ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆï¼ˆå¤–éƒ¨UPF/ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰ï¼‰
ping6 -c 3 fd03:1::2   # UPF â†’ Server
ping6 -c 3 fd00:1::1   # Server â†’ UPF
```

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

1. ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒ•ã‚©ãƒ¼ã‚¯
2. æ–°ã—ã„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ç”¨ã®ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ
3. ã‚³ãƒ³ãƒ†ãƒŠåŒ–ç’°å¢ƒã§ãƒ†ã‚¹ãƒˆ
4. æ€§èƒ½æ”¹å–„ã‚’æ–‡æ›¸åŒ–
5. ãƒ†ã‚¹ãƒˆçµæœã¨ã¨ã‚‚ã«ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ & å¼•ç”¨

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯SRv6å‹•çš„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ã®å­¦è¡“ç ”ç©¶ã®ãŸã‚ã«é–‹ç™ºã•ã‚Œã¦ã„ã¾ã™ã€‚

```bibtex
@misc{srv6_performance_evaluation_2025,
  title={SRv6 Dynamic Routing Performance Evaluation System},
  author={[Author]},
  year={2025},
  howpublished={\\url{https://github.com/hiro-hcu/srv6_dynamic_routing_performance_evaluation_system}},
  note={Docker-based 16-router SRv6 testbed with 1Gbps bandwidth control and multi-table routing}
}
```

## ğŸ” æŠ€è¡“ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹

### æ¨™æº– & ãƒ—ãƒ­ãƒˆã‚³ãƒ«
- [RFC 8754: IPv6 Segment Routing Header (SRH)](https://tools.ietf.org/html/rfc8754)
- [RFC 8986: Segment Routing over IPv6 (SRv6) Network Programming](https://tools.ietf.org/html/rfc8986)
- [Linux SRv6 Implementation Guide](https://www.kernel.org/doc/html/latest/networking/seg6-sysctl.html)

### å®Ÿè£…ãƒ„ãƒ¼ãƒ«
- [iproute2: Linux Advanced Routing](https://wiki.linuxfoundation.org/networking/iproute2)
- [nftables: Linux Firewall Framework](https://netfilter.org/projects/nftables/)
- [tc-htb: Hierarchical Token Bucket](https://man7.org/linux/man-pages/man8/tc-htb.8.html)
- [MRTG: Network Traffic Monitoring](https://oss.oetiker.ch/mrtg/)
- [NetworkX: Network Analysis in Python](https://networkx.org/)

---

**ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹**: âœ… æœ¬ç•ªç¨¼åƒå¯èƒ½ | ğŸ”„ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–æœ‰åŠ¹ | ğŸš€ è‡ªå‹•åˆæœŸåŒ–æœ‰åŠ¹ | âš¡ 1Gbpså¸¯åŸŸåˆ¶å¾¡ | ğŸŒ 16å°ãƒ«ãƒ¼ã‚¿ãƒ¡ãƒƒã‚·ãƒ¥ãƒˆãƒãƒ­ã‚¸ | ğŸ–¼ï¸ ãƒˆãƒãƒ­ã‚¸å¯è¦–åŒ–å¯¾å¿œ
